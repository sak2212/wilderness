<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>American Wilderness</title>

    <link rel="stylesheet" href="style.css">
    <script src="d3.js"></script>
    <!-- <script src="https://d3js.org/d3.v4.min.js"></script>     -->
    <script src="visualizations.js"></script>
    <!-- <script src="chronology.js"></script>
    <script src="units.js"></script>
    <script src="states.js"></script> -->
    <script src="bar-wild.js"></script>
    <script src="bar-total.js"></script>


</head>
<body>

    <!-- <script>    
    Promise.all([
    d3.csv("wild-per-year.csv"),    //0
    d3.csv("wild-units-new.csv",    //1
    d3.csv("agency-per-state.csv"), //2
    d3.csv("wild-per-state.csv"),   //3
    d3.csv("fed-wild.csv"),         //4
    d3.csv("fed-total.csv")         //5
    )])
        .then(function(data){
            drawChronology(data[0])
            drawUnits(data[1])
            drawStates(data[2,3])
            drawBar1(data[4])
            drawBar2(data[5])
        })
    </script> -->

    <header>    
        <h1>American Wilderness</h1>
    </header>

    <nav class="nav-fixed-top">
        <ul class="nav-bar"> 
            <li><a href="#introduction">Introduction</a></li>
            <li><a href="#chronology">Chronology</a></li>
            <li><a href="#states">States</a></li>
            <li><a href="#nation">Nation</a></li>
            <li><a href="#data">Data</a></li>
            <li><a href="#about">About</a></li>
        </ul>
    </nav>

    <div class="container">
        <section id="introduction">
            <h2>Introduction</h2>
            <p>Federal Lands...Soluptae nestecu llacerundel imporehentis aciis es rempedi seque paruptas imendit landae necus nulpa de eum que la dis maiostrum et occaepeleni oditias molorat iberehendae nos dolore porepudaes repudae volorrum ex estiam, que dent ut ditati nonsece rsperum ea nullanis ea eosandanimus aborem autam, quat estibus iust, omniendit, sit esequatur solore perro tem aliqui od et prerae et ligentium et rem harum volupta sperchillam doloria ssenitius se sit, quam volore proresed ut fuga. Pore sitibusam quos a consequam, quatur, quo viderovid ute re acestrum acererf erepelibus.</p>
            <p>Wilderness...untrammeled, untamed...Ecat odipient lab iliciates aut rest ium ne nate ea dis mo dissime nitaquae velecusda verro volorem et, si a que volupidunt magnis et qui rem quamus.</p>
            <img src="images/wilderness1964.PNG" width="100%" height=auto>
        </section>

        <br><br>

        <section id="chronology">
            <h2>Chronology</h2>
            <p>...Dianist quis dessusda ania quo essed molupti osapella dento quis raturit ioriam as exped et accab ium derorepudis ea conseque iur sus elest auda num est dolest aut plautem as dolento ea at. Soluptae nestecu llacerundel imporehentis aciis es rempedi seque paruptas imendit landae necus nulpa de eum que la dis maiostrum et occaepeleni oditias molorat iberehendae nos dolore porepudaes repudae volorrum ex estiam. Pore sitibusam quos a consequam, quatur, quo viderovid ute re acestrum acererf erepelibus.</p>
            <p class="chart-title">Acres designated since 1964</p>
            <div id="chronology-plot"></div>
            <p>Hover over a circle to learn which legislations were passed during what year.</p>
            <div id="tooltipChronology" class="hidden"><p id="year"></p><p id="laws"></p></div>
            <br><br>
            <p class="chart-title">Individual units of wilderness designated since 1964</p>
            <div id="units-plot"></div>
            <p>Hover over a circle to learn more about when individual wilderness units were designated.</p>
            <div id="tooltipUnits" class="hidden"><p id="year"></p><p id="name"></p><p id="size"></p>
            </section>

        <br><br>

        <section id="states">
            <h2>States</h2>
            <p>The following charts break down the percentages of public lands owned and managed by various federal agencies. The inner ring visualizes how much of the public lands of that state are federally-designated wilderness areas.</p>
            <img src="images/color-legend.png" alt="color legend" width=80% height=auto>
            <br><br>
            <p><small>[insert filter dropdown here]</small></p>
            <div id="state-donuts"></div>
            <div id="tooltipStates" class="hidden">
                <p id="agency-name"><strong></strong></p> 
                <p><span id="acreage">100</span> acres</p>
            </div>
        </section>

        <br><br>

        <section id="nation">
            <h2>Nation</h2>
            <p>...Pisimpor iorrum rerae dolestione re nis dis moloritas am ut pe ex et eum laccus, assinve lluptas cori optatiis erovite modipit inctatium es dolorum et aditis dolore que et entur as naturem porepedit mi, secerist odis qui utem. Oritaturias ut ut officiis dempore pernatur, cuscide bitam, voluptasped qui rem dolores equatia estotatur rae cor sinvel is explauda doloribea vit dusciur mint quia possitate quis eum quam earuptatquam eum qui utatemo luptate niene vendisq uatio. Eque peles aut quatis nem exceratio eossuntin poritione pro dis renis moloratatem fugia eum rataeraes inimpor ad que dolorestrum explatibusae dignihit aut volor am coreperum.</p>
            <p class="chart-title">Wilderness designations per federal agency's land holdings</p>
            <button onclick="update(data_total)">Agency Land</button>
            <button onclick="update(data_wilderness)">How much is Wilderness?</button>
            <div id="bar-wild"></div>
    
            <!-- BAR - WILDERNESS PER AGENCY -->
            <script type="text/javascript">
    
            var colors1 = [
                "#c48b3a",  //BLM
                "#927c41",  //FS
                "#9d6b42",  //FWS
                "#bc422a",  //NPS
                "#f2d59a",  //DOD
                ]
    
            var data_total = [
                {agency: "Bureau of Land Management", acres: 244400000},
                {agency: "Forest Service", acres: 192900000},
                {agency: "Fish and Wildlife Service", acres: 89200000},
                {agency: "National Park Service", acres: 79900000},
                {agency: "Department of Defense", acres: 8800000}
            ];
                
            var data_wilderness = [
                {agency: "Bureau of Land Management", acres: 9986645},
                {agency: "Forest Service", acres: 36670166},
                {agency: "Fish and Wildlife Service", acres: 20702709},
                {agency: "National Park Service", acres: 44337407},
                {agency: "Department of Defense", acres: 0}
            ];
    
            // set the dimensions and margins of the graph
            var margin = {top: 20, right: 60, bottom: 60, left: 60},
                width = 800 - margin.left - margin.right,
                height = 400 - margin.top - margin.bottom;
    
            // append the svg object to the body of the page
            var svg = d3.select("#bar-wild")
                .append("svg")
                .attr("width", width + margin.left + margin.right)
                .attr("height", height + margin.top + margin.bottom)
                .append("g")
                .attr("transform",
                    "translate(" + margin.left + "," + margin.top + ")");
    
            // X axis
            var x = d3.scaleBand()
            .range([ 0, width ])
            .domain(data_total.map(function(d) { return d.agency; }))
            .padding(0.2);
            svg.append("g")
            .attr("transform", "translate(0," + height + ")")
            .call(d3.axisBottom(x))
    
            // Add Y axis
            var y = d3.scaleLinear()
                .domain([0, 244400000])
                .range([ height, 0]);
            svg.append("g")
                .attr("class", "myYaxis")
                .call(d3.axisLeft(y));
    
            // A function that create / update the plot for a given variable:
            function update(data) {
    
            var u = svg.selectAll("rect")
                .data(data)
    
            u
                .enter()
                .append("rect")
                .merge(u)
                .transition()
                .duration(1000)
                .attr("x", function(d) { return x(d.agency); })
                .attr("y", function(d) { return y(d.acres); })
                .attr("width", width / 6)
                .attr("height", function(d) { return height - y(d.acres); })
                .attr("fill", function(d, i){
                       return colors1[i]
                   })        
                }
    
            // Initialize the plot with the first dataset
            update(data_total)
    
            </script>


            <br>
            <br>
            <p>Dianist quis dessusda ania quo essed molupti osapella dento quis raturit ioriam as exped et accab ium derorepudis ea conseque iur sus elest auda num est dolest aut plautem as dolento ea at. Dianist quis dessusda ania quo essed molupti osapella dento quis raturit ioriam as exped et accab ium derorepudis ea conseque iur sus elest auda num est dolest aut plautem as dolento ea at.</p>
            <p class="chart-title">Land ownership per federal agency</p>
            <div id="bar-total"></div>

            <!-- BAR - TOTAL USA -->
            <script type="text/javascript">

                // chart width and height
                var w = 1000;
                var h = 300;
                var barPadding = 5
                var margin = 200
                var xMargin = 40
                
                var dataset; 
    
                var colors = [
                "#d4d4d4",	//non-federal
                "#c48b3a",  //BLM
                "#927c41",  //FS
                "#9d6b42",  //FWS
                "#bc422a",  //NPS
                "#f2d59a",  //DOD
                "#000000"   //other
                ]
    
            //loading data
            Promise.all([d3.csv("fed-total.csv")])
            .then(function(data){	
                drawChart(data[0])
            })
    
            
            function drawChart(dataset){
                
                var xScale = d3.scaleLinear().domain([
                    0
                    ,
                    d3.max(dataset, function(d){return parseInt(d.TotalAcres);})
                    ])
                    .range([0,w])
    
                var xAxis = d3.axisBottom()
                    .scale(xScale)
                    .ticks(10)
                
                // SVG element
                var svg = d3.select("bar-total")
                            .append("svg")
                            .attr("width", w)
                            .attr("height", h+xMargin);
    
                // create bars			
                svg.selectAll("rect")
                   .data(dataset)
                   .enter()
                   .append("rect")
                   .attr("y", function(d, i) {
                       return i * (h / dataset.length)
                   })
                   .attr("x", function(d) {
                           return 0 + margin
                   })
                   .attr("height", h / dataset.length - barPadding)
                   .attr("width", function(d) {
                           return xScale(d.TotalAcres)
                   })
                   .attr("fill", function(d, i){
                       return colors[i]
                   })
    
                svg.selectAll("labels")
                   .data(dataset)
                   .enter()
                   .append("text")
                   .text(function(d){
                       return d.Agency;
                   })
                   .attr("y", function(d, i) {
                       return (i * (h / dataset.length)) +28 // HOW DO I CENTER TEXT IN MIDDLE OF BAR?
                   })
                    .attr("x", margin - 10)
                       .attr("text-anchor", "end")
    
                // xAXIS ISN'T SHOWING UP...
                svg.append("g")
                   .attr("class", "axis")
                   .attr("transform", "translate(" + margin +"," + h + ")")			   
                   .call(xAxis)
    
            }
            </script>


        </section>

        <br><br>

        <section id="data">
            <h2>Data</h2>
            <p>The primary data source for these visualizations is collected and maintained by <a href="https://wilderness.net/default.php">Wilderness Connect</a> at the University of Montana. The scatterplot, <em>Individual Units of Wilderness Designated Since 1964</em>, uses the table hosted on <a href="https://en.wikipedia.org/wiki/List_of_wilderness_areas_of_the_United_States">Wikipedia</a>.</p>
        </section>

        <br><br>

        <section id="about">
            <h2>About</h2>
            <p>This project was researched, designed, and developed by Spenser A. Krut for two visual studies electives at Columbia GSAPP: Coding for Spatial Practices with Celeste Layne and Data Visualization For Architecture, Urbanism, and the Humanities with Jia Zhang.</p>
            <p>Published and last updated on December 20, 2021.</p>
            <br>
            <a href="#introduction"><em>_go to top</em></a>
        </section>

    </div>
</body>
</html>